// === Safe & Sound Coaching Co. | snsCoaching ===

<script type="module" defer>

///******************************************************/
//////////////// SAFE & SOUND COACHING //////////////////
///******************************************************/ 

// Motion.js / vanilla JS animation code for SnS Couching Website
// Packaged for squarespace injection

// https://motion.dev/
// https://www.safeandsoundcoachingco.com
// PW: Anj*******%

// Stephen Stranahan
// October 2025
     
///////////// CONSTANTS /////////////
// Color palate for Safe & Sound Coaching - WIP
const safeAndSoundColors = {
  champagne: "rgba(244, 234, 225, 0.9)",  // soft, creamy base background
  blush: "rgba(239, 188, 189, 0.85)",     // gentle rose warmth
  sage: "rgba(182, 200, 174, 0.85)",      // grounding green tone
  gold: "rgba(230, 195, 107, 0.85)",      // subtle luminous accent
  ivory: "rgba(255, 250, 243, 0.9)",      // near-white highlight
  dusk: "rgba(95, 98, 91, 0.7)",          // grounding neutral (text/contrast)
  moonlight: "rgba(219, 216, 210, 0.7)",  // ethereal glow layer
};	

// --- Color Palette (softened darker orbs for light theme) ---
const darkOrbColors = [
  "rgba(111, 126, 111, 0.6)",
  "rgba(148, 103, 103, 0.55)",
  "rgba(166, 137, 87, 0.5)",
  "rgba(124, 118, 110, 0.5)",
  "rgba(98, 108, 98, 0.6)"
];


// safeAndSoundColors.champagne
// safeAndSoundColors.blush
// safeAndSoundColors.sage
// safeAndSoundColors.blush
// safeAndSoundColors.gold
// safeAndSoundColors.ivory
// safeAndSoundColors.dusk
// safeAndSoundColors.moonlight

// darkOrbColors.deepSage
// darkOrbColors.rosewood
// darkOrbColors.amberSmoke
// darkOrbColors.lunarTaupe
// darkOrbColors.nightOlive

// === Safe & Sound Coaching Co. | Landing Page Animations | JS ===

/////////////////////////////////////

	// Pull in motion.js - latest version
	import { animate, hover } from "https://cdn.jsdelivr.net/npm/motion@latest/+esm";
      
	window.addEventListener('DOMContentLoaded', () => { // Ensure DOM populated

	if (!window.motion) {
		console.warn("Motion.js failed to load; background disabled.");
		return;
	}		
 
	//*********************************************************/
	//**************** PAGE HEADER SECTION ********************/	
	//*********************************************************/

	//////////////// HEADER BUTTON ANIMATIONS ////////////// 
		
	let headerButtonElements = document.getElementsByClassName('btn btn--border theme-btn--primary-inverse sqs-button-element--primary'); 

		// On load */

		// On hover */

		// Button hover glow
		for (let i = 0; i < headerButtonElements.length; i++) 
    	{  
			let button = headerButtonElements[i];

			// Mouse enter / leave event listeners
			// Animate box-shadow and scale

			button.addEventListener("mouseenter", () => {
				animate(button, 
					{ boxShadow: [
						"0 0 0px rgba(255, 215, 0, 0)",
						"0 0 20px rgba(255, 215, 0, 0.6)",
						"0 0 40px rgba(255, 215, 0, 0.8)"
					],
					scale: [1, 1.05]
					},
					{ duration: 0.6, easing: "ease-out" }
				);
			});

			button.addEventListener("mouseleave", () => {
				animate(button, 
					{ boxShadow: [
						"0 0 40px rgba(255, 215, 0, 0.8)",
						"0 0 10px rgba(255, 215, 0, 0.3)",
						"0 0 0px rgba(255, 215, 0, 0)"
					],
					scale: [1.05, 1]
					},
					{ duration: 0.5, easing: "ease-in" }
				);
			});
		}

		// On scroll */

		// In view */

		// Press */

		// On Resize */

		// etc...

	///////////////////////////////////////////////////////

	//////////////// LOGO ANIMATIONS ////////////////// 
		
		// Page header logo element - "SnS Logo"
		// Hover listener - select by class - iterate on array    
		let headerLogoElements = document.getElementsByClassName('header-title-logo'); 

		// On load */
		
		for (let i = 0; i < headerLogoElements.length; i++) 
		{  
			hover(
				headerLogoElements[i],
				() => {
					console.log("Logo hovered! index:" + i)
					// Hover animation code here
				animate(
						// SS block ID
						headerLogoElements[i],
						{  }, // Target properties and values
						{  } // Animation options
					); 
				
					return (endEvent) => {
					console.log("hover logo end")
					animate(
						// SS block ID
						headerLogoElements[i],
						{  }, // Target properties and values
						{  } // Animation options
					);
				}
				}
			);   
		} // End for loop 
	
		// On scroll */

		// In view */

		// Press */

		// On Resize */


		// etc...

	////////////////////////////////////////////////////

	//////////////// NAVLINK ANIMATIONS ////////////////// 
		
		// Page Header link elements - "About, Coaching Serices, etc.."
		// Hover listener - select by class - iterate on array
		let headerLinkElements = document.getElementsByClassName('header-nav-item--collection'); 

		// On load */
	
		// On hover */
	
		console.log(headerLinkElements);   
		
		for (let i = 0; i < headerLinkElements.length; i++) 
		{  
			hover(
				headerLinkElements[i],
				() => {
					console.log("Header link hovered! index:" + i)
					// Hover animation code here
				animate(
						// SS block ID
						headerLinkElements[i],
						{  }, // Target properties and values
						{  } // Animation options
					); 
				
					return (endEvent) => {
						console.log("hover end")
						animate(
							// SS block ID
							headerLinkElements[i],
							{  }, // Target properties and values
							{  } // Animation options
						);
					}
				}
			);   
		} // End array iterator for loop

		// On scroll */

		// In view */

		// Press */

		// On Resize */


		// etc...

	//////////////////////////////////////////////////////

	//*********************************************************/

	//////////////// BANNER ANIMATIONS ////////////////// 
		
		// On load */
			
		// Banner element - "Come Home to Yourself"
		// Simple timer-driven animation 
		animate(
			'#block-c1ee579b85b57ee0df42',  // SS block ID
			{ x: 100, opacity: 0 }, 		// Target properties and values
			{ duration: 1 }                 // Animation options
		);

		// On hover */
	
		// On scroll */

		// In view */

		// Press */

		// On Resize */


		// etc...

	//////////////////////////////////////////////////////

	//*********************************************************/
	//**************** INFOGRAPHICS SECTION *******************/	
	//*********************************************************/

	//////////////// INFOGRAPHIC 1 ANIMATIONS ////////////////// 
		
		// On load */

		///// GIRL IMAGE /////
		// Slight pulse effect
		animate(
			'#block-yui_3_17_2_1_1759758992535_4183',  // SS block ID
			{ scale: [1, 1.2, 1] },  // Infinite Pulse effect
			{ duration: 15, repeat: Infinity, easing: "ease-in-out" } // Animation options
		);
			
		///// Banner element - "Do You Feel Stuck?" /////
		// Pulse effect
		animate(
			'#block-yui_3_17_2_1_1759758992535_1815',  // SS block ID
			{ scale: [1, 1.2, 1] },  // Infinite Pulse effect
			{ duration: 15, repeat: Infinity, easing: "ease-in-out" } // Animation options
		);
		// Pulse effect
		animate(
			'#block-yui_3_17_2_1_1759758992535_1815',  // SS block ID
			{ x: [40, -40] },  // Infinite Pulse effect
			{ duration: 10, repeat: Infinity, easing: "ease-in-out" } // Animation options
		);
		// Pulse effect
		animate(
			'#block-yui_3_17_2_1_1759758992535_1815',  // SS block ID
			{ opacity: [1, 0.6] },  // Infinite Pulse effect
			{ duration: 12, repeat: Infinity, easing: "ease-in-out" } // Animation options
		);
		// Pulse effect
		animate(
			'#block-yui_3_17_2_1_1759758992535_1815',  // SS block ID
			{ scale: [1, 1.2, 1] },  // Infinite Pulse effect
			{ duration: 15, repeat: Infinity, easing: "ease-in-out" } // Animation options
		);

		// On hover */

		// H1 element - "Interactive Infographics"
		// Hover listener - select by block id
		hover(
			document.getElementById("block-c6be8a53cdd430489bc6"),
			() => {
					console.log("my-id hovered!");
					animate(
					// SS block ID
					'#block-c6be8a53cdd430489bc6',
					{ scale: 1.3, opacity: 0.7, x: 200 }, // Target properties and values
					{ duration: 0.5 } // Animation options
				); 
			
				return (endEvent) => {
					console.log("hover end")
					animate(
						// SS block ID
						'#block-c6be8a53cdd430489bc6',
						{ scale: 1.0, opacity: 1, x: 0 }, // Target properties and values
						{ duration: 0.5 } // Animation options
					); 
				}
			}
		)

		// On scroll */

		// In view */

		// Press */

		// On Resize */


		// etc...

	/////////////////////////////////////////////////////////////

	//////////////// INFOGRAPHIC 2 ANIMATIONS ////////////////// 
		
		// On load */
			
		// Banner element - "Come Home to Yourself"
		// Simple timer-driven animation 

		// On hover */

		// On scroll */

		// In view */

		// Press */

		// On Resize */


		// etc...

	/////////////////////////////////////////////////////////////

	//////////////// INFOGRAPHIC 3 ANIMATIONS ////////////////// 
		
		// On load */
			
		// Banner element - "Come Home to Yourself"
		// Simple timer-driven animation 

		// On hover */
	
		// On scroll */

		// In view */

		// Press */

		// On Resize */


		// etc...

	/////////////////////////////////////////////////////////////

	//////////////// INFOGRAPHIC 4 ANIMATIONS ////////////////// 
		
		// On load */
			
		// Banner element - "Come Home to Yourself"
		// Simple timer-driven animation 

		// On hover */
	
		// On scroll */

		// In view */

		// Press */

		// On Resize */


		// etc...

	/////////////////////////////////////////////////////////////
});  

// End custom code - DOM render check
 
//////////////// SAMPLE ANIMATIONS ////////////////// 
     
	// On load */
		
	// Banner element - "Come Home to Yourself"
	// Simple timer-driven animation 

	// On hover */
	
	// On scroll */

	// In view */

	// Press */

	// On Resize */


	// etc...

///////////////////////////////////////////////////////

////////////////////////////////////////////////////////////
// ************* BACKGROUND ANIMATIONS ****************** */
////////////////////////////////////////////////////////////

// === Safe & Sound Coaching Co. | Ethereal Background | JS ===

// --- Create background container if not present ---
let container = document.getElementById("ethereal-bg");
if (!container) {
  container = document.createElement("div");
  container.id = "ethereal-bg";
  const siteWrapper = document.querySelector(".sqs-site-wrapper, .site-wrapper, #siteWrapper");
  if (siteWrapper) siteWrapper.prepend(container);
  else document.body.prepend(container);
}

// --- Create and animate orbs ---
function createBlob(color, delay) {
  const blob = document.createElement("div");
  blob.classList.add("ethereal-blob");
  blob.style.background = color;
  container.appendChild(blob);

  const startX = Math.random() * (window.innerWidth * 0.8) + window.innerWidth * 0.1;
  const startY = Math.random() * (window.innerHeight * 0.8) + window.innerHeight * 0.1;
  blob.style.left = `${startX}px`;
  blob.style.top = `${startY}px`;

  animate(blob, {
	x: [startX, startX + 160, startX - 140, startX + 100, startX],
	y: [startY, startY - 120, startY + 180, startY - 80, startY],
	scale: [1, 1.15, 0.9, 1.1, 1],
	opacity: [0.65, 0.9, 0.7, 0.85, 0.65],
	filter: [
		"blur(50px) brightness(1)",
		"blur(70px) brightness(1.2)",
		"blur(60px) brightness(0.9)",
		"blur(80px) brightness(1.1)",
		"blur(50px) brightness(1)"
	]
	}, {
		duration: 24 + Math.random() * 6,
		repeat: Infinity,
		easing: "ease-in-out",
		direction: "alternate",
		delay
		});
	}

// Create all orbs
darkOrbColors.forEach((c, i) => createBlob(c, i * 2));

// --- Add micro-phrase text animation ---
const textWrapper = document.createElement("div");
textWrapper.id = "micro-phrase-wrapper";
textWrapper.innerHTML = `
  <span class="phrase glow">Trauma-aware</span>
  <span class="phrase glow">Psychology-informed</span>
  <span class="phrase glow">Integrative</span>
`;
container.appendChild(textWrapper);

const phrases = textWrapper.querySelectorAll(".phrase");
phrases.forEach((p) => (p.style.opacity = 0));

async function cyclePhrases() {
  while (true) {
    for (let i = 0; i < phrases.length; i++) {
      const el = phrases[i];
      await animate(el, { opacity: [0, 1] }, { duration: 1.2, easing: "ease-out" }).finished;
      await new Promise((r) => setTimeout(r, 2200));
      await animate(el, { opacity: [1, 0] }, { duration: 1.2, easing: "ease-in" }).finished;
    }
  }
}
cyclePhrases();
/////////////////////////////////////////////////////////////////

</script>